# v2.1.x Changelog

## v2.1.0 - 2026-02-18

### Added

- **Terminal Configuration CLI**: `oh-my-claude wezterm-config` and `oh-my-claude tmux-config` write optimized terminal configurations for AI coding sessions.
  - WezTerm: 50k scrollback, JetBrains Mono, Dracula theme, WebGpu, vi copy mode, quick select, regex search, pane splitting
  - tmux: 50k scrollback, mouse mode, 256-color, zero escape delay, vi copy mode, auto-detected clipboard per platform

- **WezTerm Zsh Auto-Detection**: Generated `.wezterm.lua` detects zsh in Git Bash installations (checks both `bin/` and `usr/bin/` paths). If found, launches via `bash -i -l -c zsh`. Priority: zsh > Git Bash > PowerShell.

- **Cross-Platform Clipboard**: `tmux-config` auto-detects: `pbcopy` (macOS), `clip.exe` (Windows/WSL), `xclip` (Linux), `xsel` (Linux fallback). Mouse drag sends directly to system clipboard.

- **WezTerm Split-Pane Bridge Layout**: `bridge up codex opencode` uses `wezterm cli split-pane` for split layout within the same WezTerm tab. First AI splits right (50%), subsequent AIs stack vertically.

- **CC-to-CC Bridge**: Spawn Claude Code instances as bridge workers (`bridge up cc`), each with its own proxy session. Auto-switch via `--switch`. Multi-instance support (`cc:2`, `cc:3`).

- **Event-Driven Bridge Notifications**: Signal files + hook scanning replaces repeated `poll_task`. `wait_for_tasks` MCP tool for blocking multi-task completion. Bridge auto-close, default pane-right layout.

### Fixed

- **WezTerm Config `--force`**: Fixed `--force` flag not overwriting when oh-my-claude config marker was already present.

- **WezTerm Config Lua Escape**: Fixed `invalid escape sequence near '[/\]'` Lua syntax error in generated Git Bash detection pattern.

- **Kimi Proxy Sanitization**: Fixed 400 errors when switching to Kimi — only `tool_reference` content type is stripped. Thinking blocks and config preserved.

- **npm Package Size**: Removed `apps/menubar/` (Tauri source/icons), `scripts/`, and stale dist chunks from npm package. Changed `prepare` → `prepack` so `bun build:all` only runs during publish, not on user `npm install`. Package reduced from 15.8 MB → 6.0 MB unpacked, 133 → 46 files.

### Changed

- **`files` in package.json**: Now explicitly lists only required dist artifacts (`dist/cli.js`, `dist/index.js`, `dist/*.wasm`, `dist/mcp/`, `dist/hooks/`, `dist/statusline/`, `dist/proxy/`), `bin/`, `src/commands/`, and `src/styles/*.md`.
