# v1.1.1

Release date: 2026-01-16

## Features

### Real-Time StatusLine

Added a persistent status bar that displays in Claude Code showing:
- Active MCP background agents with elapsed time
- Active Task tool agents (Claude-subscription agents) with `@` prefix
- Provider concurrency slots (DeepSeek, ZhiPu, MiniMax)
- Idle state with available slots

**StatusLine Format:**
```
omc ready | DS: 10 ZP: 10 MM: 5                    # Idle
omc [Oracle: 32s] [@Scout: 15s] | DS: 1/10 ...    # Active
```

### Task Tool Agent Tracking

New `task-tracker` hook monitors Claude Code's Task tool to track:
- Claude-Reviewer, Claude-Scout, and other Task-based agents
- Launch and completion times
- Completion notifications in output

### StatusLine CLI

New CLI subcommand for statusline management:
```bash
oh-my-claude statusline --status   # Check status
oh-my-claude statusline --enable   # Enable
oh-my-claude statusline --disable  # Disable
```

### Multi-Line StatusLine Support

When users have an existing statusline (like CCometixLine), oh-my-claude automatically:
- Creates a wrapper script that calls both
- Displays outputs on separate lines for visibility
- Backs up the original configuration

## Changes

- Updated `doctor` command to show statusline status
- StatusLine automatically installed during `oh-my-claude install`
- Status file written to `~/.claude/oh-my-claude/status.json`
- MCP server writes initial status on startup

## Hooks

New hooks added:
- `task-tracker` (PreToolUse:Task) - Track Task agent launches
- `task-tracker` (PostToolUse:Task) - Track Task agent completions

## Files

New files:
- `src/statusline/statusline.ts` - Main statusline script
- `src/statusline/formatter.ts` - Status formatting utilities
- `src/hooks/task-tracker.ts` - Task tool tracking hook
- `src/installer/statusline-merger.ts` - StatusLine configuration merger

Modified files:
- `src/cli.ts` - Added statusline subcommand
- `src/installer/index.ts` - StatusLine installation
- `src/installer/settings-merger.ts` - Hook installation for task-tracker
- `src/mcp/background-agent-server/task-manager.ts` - Status file writer
- `src/mcp/background-agent-server/server.ts` - Initial status on startup
- `package.json` - Build scripts for statusline
